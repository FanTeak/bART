# bART Test

## ASP.NET Core Web API project with Entity Framework

### Database structure:
⠀incidents -> accounts -> contacts<br />
⠀incident -> account, 1=>M,<br />
⠀account -> contact, 1=> M.
   
⠀Incident, incident name - primary key, autogenerated, string<br />
⠀Account, Name - > unique string field 

### Functionality:
⠀create web api, asp core, ef code first (edited)<br />
⠀Introduce the API to create the following records: contacts, accounts, incidents (edited)<br />
⠀account cannot be created without contact<br />
⠀case cannot be created without account<br />
⠀logic for incident creation method<br />

### Request example:
⠀request body<br />
⠀{<br />
⠀⠀⠀⠀account name,<br />
⠀⠀⠀⠀contact first name,<br />
⠀⠀⠀⠀contact last name,<br />
⠀⠀⠀⠀contact email, // unique identifier,<br />
⠀⠀⠀⠀incident description,<br />
⠀}<br />

### Validation:
⠀if account name is not in the system -> API must return 404 – NotFound.<br />
⠀if contact is in the system (check by email) -> update contact record, link contact to account if it has not been linked prevoisly.

⠀Otherwise, <br />
⠀⠀- create new contact with first name, last name, email and<br />
⠀⠀- link just created contact to the account<br />
⠀⠀- create new case, for account and populate case description field<br />

